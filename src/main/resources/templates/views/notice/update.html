<!DOCTYPE html>
<html th:replace="~{/layout/default-layout::default-layout(${user}, ~{::title}, ~{::body})}">
    <head>
        <title>글 작성하기 - Csolved</title>
    </head>
    <body>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Bootstrap Icon-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <!-- Core theme CSS -->
        <link href="/css/styles.css" rel="stylesheet"/>
        <!-- 이미지 업로드 Compressor -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/compressorjs/1.2.1/compressor.min.js"></script>
        
        <!-- 메인 컨텐츠 -->
        <div class="container py-5">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="card shadow">
                        <div class="card-header bg-dark text-white">
                            <h4 class="mb-0">글 작성하기</h4>
                        </div>
                        <div class="card-body">
                            <form id="postForm" method="POST"
                                  th:action=" @{/notice/__${postId}__}"
                                  th:object="${updateForm}">
                                <input type="hidden" name="_method" value="PUT"/>
                                
                                <!-- 제목 입력 -->
                                <div class="mb-3">
                                    <label for="title" class="form-label">제목</label>
                                    <input type="text" class="form-control" id="title" th:field="*{title}"
                                           placeholder="제목을 입력하세요" required>
                                    <span th:errors="*{title}">제목 오류 메시지</span>
                                </div>
                                
                                <!-- 사용자 아이디-->
                                <input type="hidden" name="authorId" th:value="${user.id}"/>
                                
                                <!-- 익명 토글 -->
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" id="anonymousToggle"
                                           th:field="*{anonymous}">
                                    <label class="form-check-label" for="anonymousToggle">익명으로 작성</label>
                                </div>
                                
                                <!-- 내용 입력 -->
                                <div class="mb-3">
                                    <label for="content" class="form-label">내용</label>
                                    <textarea id="content"
                                              th:field="*{content}"
                                              th:classappend="${#fields.hasErrors('content') ? 'is-invalid':''}"
                                              class="large-editor form-control"
                                              placeholder="내용을 입력하세요">
                                    </textarea>
                                    <span th:errors="*{content}">컨텐츠 에러 메시지</span>
                                </div>
                                
                                <!-- 버튼 그룹 -->
                                <div class="d-flex align-content-end gap-2">
                                    <button type="button" class="btn btn-secondary" onclick="history.back()">
                                        취소
                                    </button>
                                    <button type="submit" class="btn btn-primary">
                                        작성완료
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>